{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GOX Summary Schema",
  "description": "Schema for GOX Framework generated summaries",
  "type": "object",
  "properties": {
    "summary_metadata": {
      "type": "object",
      "properties": {
        "summary_id": {
          "type": "string",
          "description": "Unique identifier for the summary"
        },
        "generated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the summary was generated"
        },
        "summary_type": {
          "type": "string",
          "enum": ["executive", "technical", "operational", "security"],
          "description": "Type of summary generated"
        },
        "source_data": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of source data files used"
        },
        "confidence_score": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence level of the summary accuracy"
        },
        "word_count": {
          "type": "integer",
          "minimum": 0,
          "description": "Total word count of the summary"
        }
      },
      "required": ["summary_id", "generated_at", "summary_type"]
    },
    "overview": {
      "type": "string",
      "description": "High-level overview paragraph",
      "minLength": 10,
      "maxLength": 2000
    },
    "key_findings": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "finding_id": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": ["security", "performance", "quality", "compliance", "operational"]
          },
          "severity": {
            "type": "string",
            "enum": ["info", "low", "medium", "high", "critical"]
          },
          "title": {
            "type": "string",
            "minLength": 5,
            "maxLength": 200
          },
          "description": {
            "type": "string",
            "minLength": 10,
            "maxLength": 1000
          },
          "evidence": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Supporting evidence for the finding"
          },
          "impact": {
            "type": "string",
            "description": "Potential impact of the finding"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Confidence level for this specific finding"
          }
        },
        "required": ["category", "severity", "title", "description"]
      },
      "minItems": 1,
      "maxItems": 20
    },
    "statistics": {
      "type": "object",
      "properties": {
        "summary_stats": {
          "type": "object",
          "properties": {
            "total_data_points": {
              "type": "integer",
              "minimum": 0
            },
            "processing_success_rate": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "average_processing_time": {
              "type": "number",
              "minimum": 0,
              "description": "Average processing time in milliseconds"
            },
            "data_coverage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Percentage of available data included in summary"
            }
          }
        },
        "trend_analysis": {
          "type": "object",
          "properties": {
            "trend_direction": {
              "type": "string",
              "enum": ["improving", "declining", "stable", "volatile", "unknown"]
            },
            "trend_confidence": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "significant_changes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "metric": {
                    "type": "string"
                  },
                  "change_type": {
                    "type": "string",
                    "enum": ["increase", "decrease", "spike", "drop"]
                  },
                  "magnitude": {
                    "type": "number"
                  },
                  "time_period": {
                    "type": "string"
                  }
                },
                "required": ["metric", "change_type"]
              }
            }
          }
        },
        "comparative_analysis": {
          "type": "object",
          "properties": {
            "baseline_comparison": {
              "type": "object",
              "properties": {
                "baseline_period": {
                  "type": "string"
                },
                "performance_delta": {
                  "type": "number",
                  "description": "Percentage change from baseline"
                },
                "key_differences": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            },
            "peer_comparison": {
              "type": "object",
              "properties": {
                "peer_group": {
                  "type": "string"
                },
                "relative_performance": {
                  "type": "string",
                  "enum": ["above_average", "average", "below_average"]
                },
                "ranking": {
                  "type": "integer",
                  "minimum": 1
                }
              }
            }
          }
        }
      }
    },
    "recommendations": {
      "type": "object",
      "properties": {
        "priority_actions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "action_id": {
                "type": "string"
              },
              "priority": {
                "type": "string",
                "enum": ["immediate", "high", "medium", "low"]
              },
              "category": {
                "type": "string",
                "enum": ["security", "performance", "quality", "compliance", "operational"]
              },
              "title": {
                "type": "string",
                "minLength": 5,
                "maxLength": 200
              },
              "description": {
                "type": "string",
                "minLength": 10,
                "maxLength": 500
              },
              "expected_impact": {
                "type": "string",
                "enum": ["high", "medium", "low"]
              },
              "implementation_effort": {
                "type": "string",
                "enum": ["low", "medium", "high", "very_high"]
              },
              "timeline": {
                "type": "string",
                "description": "Suggested implementation timeline"
              },
              "success_criteria": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Criteria to measure success of the action"
              }
            },
            "required": ["priority", "category", "title", "description"]
          },
          "maxItems": 10
        },
        "optimization_opportunities": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "area": {
                "type": "string"
              },
              "current_state": {
                "type": "string"
              },
              "target_state": {
                "type": "string"
              },
              "potential_benefit": {
                "type": "string"
              },
              "complexity": {
                "type": "string",
                "enum": ["low", "medium", "high"]
              },
              "prerequisites": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": ["area", "potential_benefit"]
          }
        },
        "monitoring_suggestions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "metric": {
                "type": "string"
              },
              "threshold": {
                "type": "string"
              },
              "frequency": {
                "type": "string",
                "enum": ["real-time", "hourly", "daily", "weekly", "monthly"]
              },
              "rationale": {
                "type": "string"
              }
            },
            "required": ["metric", "frequency"]
          }
        }
      }
    },
    "anomalies": {
      "type": "object",
      "properties": {
        "detected_anomalies": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "anomaly_id": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": ["statistical", "pattern", "threshold", "temporal"]
              },
              "severity": {
                "type": "string",
                "enum": ["low", "medium", "high", "critical"]
              },
              "description": {
                "type": "string"
              },
              "detected_at": {
                "type": "string",
                "format": "date-time"
              },
              "affected_metrics": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "deviation_magnitude": {
                "type": "number",
                "description": "How much the value deviates from normal (standard deviations)"
              },
              "potential_causes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "recommended_investigation": {
                "type": "string"
              }
            },
            "required": ["type", "severity", "description", "detected_at"]
          }
        },
        "anomaly_patterns": {
          "type": "object",
          "properties": {
            "recurring_anomalies": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "pattern": {
                    "type": "string"
                  },
                  "frequency": {
                    "type": "string"
                  },
                  "likely_cause": {
                    "type": "string"
                  }
                }
              }
            },
            "seasonal_patterns": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "season": {
                    "type": "string"
                  },
                  "pattern_description": {
                    "type": "string"
                  },
                  "impact_level": {
                    "type": "string",
                    "enum": ["low", "medium", "high"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "quality_indicators": {
      "type": "object",
      "properties": {
        "data_quality": {
          "type": "object",
          "properties": {
            "completeness": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "accuracy": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "consistency": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "timeliness": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            }
          }
        },
        "summary_quality": {
          "type": "object",
          "properties": {
            "information_density": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Ratio of key information to total content"
            },
            "coverage_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Percentage of important aspects covered"
            },
            "clarity_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Readability and clarity assessment"
            }
          }
        }
      }
    }
  },
  "required": ["summary_metadata", "overview", "key_findings"]
}